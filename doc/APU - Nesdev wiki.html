<!DOCTYPE html>
<html class="client-js" dir="ltr" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>APU - Nesdev wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"YdXgzTaJIKESh2atW7WNrQAAACE","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"APU","wgTitle":"APU","wgCurRevisionId":344,"wgRevisionId":344,"wgArticleId":48,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["APU"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"APU","wgRelevantArticleId":48,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":
"loading","skins.monobook.responsive":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.monobook.mobile"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="APU%20-%20Nesdev%20wiki_files/load.css">
<script async="" src="APU%20-%20Nesdev%20wiki_files/load.php"></script>
<style>
body{margin:0}main{display:block}hr{box-sizing:content-box;height:0;overflow:visible}abbr[title]{border-bottom:1px dotted;cursor:help}@supports (text-decoration:underline dotted){abbr[title]{border-bottom:0;text-decoration:underline dotted}}pre,code,tt,kbd,samp{font-family:monospace,monospace}sub,sup{line-height:1}img{border:0}button,input,optgroup,select,textarea{margin:0}button::-moz-focus-inner,[type='button']::-moz-focus-inner,[type='reset']::-moz-focus-inner,[type='submit']::-moz-focus-inner{border-style:none;padding:0}legend{color:inherit;padding:0}  .messagebox,.errorbox,.warningbox,.successbox{color:#000;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:16px;border:1px solid;padding:12px 24px;word-wrap:break-word; overflow-wrap:break-word;overflow:hidden; }.messagebox :only-child,.errorbox :only-child,.warningbox :only-child,.successbox :only-child{margin:0}.messagebox h2,.errorbox h2,.warningbox h2,.successbox h2{color:inherit;display:inline;margin:0 0.5em 0 0;border:0;font-size:1em;font-weight:bold}.messagebox .mw-logevent-loglines li,.errorbox .mw-logevent-loglines li,.warningbox .mw-logevent-loglines li,.successbox .mw-logevent-loglines li{font-size:90%}.messagebox{background-color:#eaecf0;border-color:#a2a9b1}.errorbox{background-color:#fee7e6;border-color:#d33}.warningbox{background-color:#fef6e7;border-color:#fc3}.successbox{background-color:#d5fdf4;border-color:#14866d}   .toctogglecheckbox:checked ~ ul{display:none}
.mw-wiki-logo{background-image:url(/w/resources/assets/NESdevWikiLogo7.png?446da)}
@media print {
	.noprint,.catlinks,.magnify,.mw-cite-backlink,.mw-editsection,.mw-editsection-like,.mw-hidden-catlinks,.mw-indicators,.mw-redirectedfrom,.patrollink,.usermessage,#column-one,#footer-places,#mw-navigation,#siteNotice,#f-poweredbyico,#f-copyrightico,li#about,li#disclaimer,li#mobileview,li#privacy{display:none} body{background:#fff;color:#000;margin:0;padding:0} a{background:none !important; padding:0 !important; }a,a.external,a.new,a.stub{color:inherit !important; text-decoration:inherit !important; } .mw-parser-output a.external.text:after,.mw-parser-output a.external.autonumber:after{content:' (' attr(href) ')';word-break:break-all;word-wrap:break-word} .mw-parser-output a.external.text[href^='//']:after,.mw-parser-output a.external.autonumber[href^='//']:after{content:' (https:' attr(href) ')'}dt{font-weight:bold}h1,h2,h3,h4,h5,h6{font-weight:bold; page-break-after:avoid;page-break-before:avoid}p{margin:1em 0;line-height:1.2; orphans:3;widows:3}img,figure,.wikitable,.thumb{ page-break-inside:avoid}img{border:0;vertical-align:middle}pre,.mw-code{background:#fff;color:#000;border:1pt dashed #000;padding:1em;font-size:8pt;white-space:pre-wrap; overflow-x:hidden; word-wrap:break-word} sup,sub{line-height:1}ul{list-style-type:square} #globalWrapper{width:100% !important; min-width:0 !important; }.mw-body{background:#fff;color:#000;border:0 !important; padding:0 !important; margin:0 !important; direction:ltr}#column-content{margin:0 !important; }#column-content .mw-body{padding:1em;margin:0 !important; }.toc{background-color:#f9f9f9;border:1pt solid #aaa;padding:5px;display:table} .tocnumber,.toctext{display:table-cell} .tocnumber{padding-left:0;padding-right:0.5em} .mw-content-ltr .tocnumber{padding-left:0;padding-right:0.5em} .mw-content-rtl .tocnumber{padding-left:0.5em;padding-right:0}  table.floatright,div.floatright,div.tright{float:right;clear:right} table.floatleft,div.floatleft,div.tleft{float:left;clear:left} div.tleft{margin:0.5em 1.4em 1.3em 0} div.tright{margin:0.5em 0 1.3em 1.4em} table.floatright,div.floatright{margin:0 0 0.5em 0.5em;border:0} table.floatleft,div.floatleft{margin:0 0.5em 0.5em 0;border:0}.center{text-align:center} div.thumb{background-color:transparent;width:auto}div.thumb a{border-bottom:0}div.thumbinner{background-color:#fff;border:0;border-radius:2px;padding:5px;font-size:10pt;color:#666;text-align:center; overflow:hidden;min-width:100px}.thumbcaption{text-align:left;line-height:1.4;padding:3px}.thumbborder{border:1pt solid #ddd} .wikitable{background:#fff;margin:1em 0;border:1pt solid #aaa;border-collapse:collapse;font-size:10pt}.wikitable > caption{padding:5px;font-size:10pt}.wikitable > tr > th,.wikitable > tr > td,.wikitable > * > tr > th,.wikitable > * > tr > td{ background:#fff !important;  color:#000 !important; border:1pt solid #aaa;padding:0.4em 0.6em}.wikitable > tr > th,.wikitable > * > tr > th{text-align:center}table.listing,table.listing td{border:1pt solid #000;border-collapse:collapse} .catlinks ul{display:inline;padding:0;list-style:none none}.catlinks li{display:inline-block;line-height:1.15;margin:0.1em 0;border-left:1pt solid #aaa;padding:0 0.4em}.catlinks li:first-child{border-left:0;padding-left:0.2em} .printfooter{padding:1em 0}#footer{background:#fff;color:#000;margin-top:1em;border-top:1pt solid #aaa;padding-top:5px;direction:ltr}  .toctogglecheckbox:checked + .toctitle{display:none}}
@media screen {
	div.tright,div.floatright,table.floatright{clear:right;float:right} div.tleft,div.floatleft,table.floatleft{float:left;clear:left}  .mw-content-ltr .thumbcaption{text-align:left} .mw-content-ltr .magnify{float:right} .mw-content-rtl .thumbcaption{text-align:right} .mw-content-rtl .magnify{float:left}  div.floatright,table.floatright{margin:0 0 0.5em 0.5em} div.floatleft,table.floatleft{margin:0 0.5em 0.5em 0} div.thumb{margin-bottom:0.5em;width:auto;background-color:transparent}div.thumbinner{border:1px solid #c8ccd1;padding:3px;background-color:#f8f9fa;font-size:94%;text-align:center; overflow:hidden}.thumbimage{background-color:#ffffff;border:1px solid #c8ccd1}.thumbcaption{border:0;line-height:1.4em;padding:3px;font-size:94%; text-align:left}.magnify{ float:right;margin-left:3px}.magnify a{display:block; text-indent:15px;white-space:nowrap;overflow:hidden; width:15px;height:11px;  background-image:url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.png?4f704);background-image:linear-gradient(transparent,transparent),url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e); -moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.thumbborder{border:1px solid #eaecf0}  .mw-content-ltr .magnify{margin-left:3px;margin-right:0} .mw-content-ltr .magnify a{ background-image:url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.png?4f704);background-image:linear-gradient(transparent,transparent),url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e)} .mw-content-rtl .magnify{margin-left:0;margin-right:3px} .mw-content-rtl .magnify a{ background-image:url(/w/resources/src/mediawiki.skinning/images/magnify-clip-rtl.png?a9fb3);background-image:linear-gradient(transparent,transparent),url(/w/resources/src/mediawiki.skinning/images/magnify-clip-rtl.svg?38fd5)} div.tright{margin:0.5em 0 1.3em 1.4em} div.tleft{margin:0.5em 1.4em 1.3em 0}      .mw-parser-output:after{clear:both;content:'';display:block}.mw-parser-output a.external.free{word-wrap:break-word}  .rtl .mw-parser-output a.external.free,.rtl .mw-parser-output a.external.autonumber{direction:ltr;unicode-bidi:embed} .mw-hide-empty-elt .mw-parser-output .mw-empty-elt{display:none}   .catlinks{border:1px solid #a2a9b1;background-color:#f8f9fa;padding:5px;margin-top:1em;clear:both}textarea{  border:1px solid #c8ccd1}.editOptions{background-color:#eaecf0;color:#202122;border:1px solid #c8ccd1;border-top:0;padding:1em 1em 1.5em 1em;margin-bottom:2em}.usermessage{background-color:#ffce7b;border:1px solid #ffa500;color:#000;font-weight:bold;margin:2em 0 1em;padding:0.5em 1em;vertical-align:middle}#siteNotice{position:relative;text-align:center;margin:0}#localNotice{margin-bottom:0.9em} #siteSub{display:none}#contentSub,#contentSub2{font-size:84%;line-height:1.2em;margin:0 0 1.4em 1em;color:#54595d;width:auto}span.subpages{display:block} .emptyPortlet{display:none}.printfooter,.client-nojs #t-print{display:none; } .mw-indicators{float:right}.mw-editsection{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none} .mw-editsection,.mw-editsection-like{font-size:small;font-weight:normal;margin-left:1em;vertical-align:baseline; line-height:1em}  .mw-content-ltr .mw-editsection,.mw-content-rtl .mw-content-ltr .mw-editsection{margin-left:1em} .mw-content-rtl .mw-editsection,.mw-content-ltr .mw-content-rtl .mw-editsection{margin-right:1em}      a{text-decoration:none;color:#0645ad;background:none}a:not([href]){cursor:pointer; }a:visited{color:#0b0080}a:active{color:#faa700}a:hover,a:focus{text-decoration:underline}a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.stub{color:#723}a.new,#p-personal a.new{color:#d33} a.mw-selflink{color:inherit;font-weight:bold;text-decoration:inherit}a.mw-selflink:hover{cursor:inherit;text-decoration:inherit}a.mw-selflink:active,a.mw-selflink:visited{color:inherit}a.new:visited,#p-personal a.new:visited{color:#a55858} .mw-parser-output a.extiw,.mw-parser-output a.external{color:#36b}.mw-parser-output a.extiw:visited,.mw-parser-output a.external:visited{color:#636; }.mw-parser-output a.extiw:active,.mw-parser-output a.external:active{color:#b63} .mw-underline-always a{text-decoration:underline}.mw-underline-never a{text-decoration:none} .plainlinks a.external{background:none !important; padding:0 !important; } img{border:0; vertical-align:middle}hr{height:1px;background-color:#a2a9b1;border:0;margin:0.2em 0} h1,h2,h3,h4,h5,h6{color:#000;margin:0;padding-top:0.5em;padding-bottom:0.17em;overflow:hidden}h1,h2{margin-bottom:0.6em;border-bottom:1px solid #a2a9b1}h3,h4,h5{margin-bottom:0.3em}h1{font-size:188%;font-weight:normal}h2{font-size:150%;font-weight:normal}h3{font-size:128%}h4{font-size:116%}h5{font-size:108%}h6{font-size:100%}p{margin:0.4em 0 0.5em 0}p img{margin:0}ul{margin:0.3em 0 0 1.6em;padding:0}ol{margin:0.3em 0 0 3.2em;padding:0;list-style-image:none}li{margin-bottom:0.1em}dt{font-weight:bold;margin-bottom:0.1em}dl{margin-top:0.2em;margin-bottom:0.5em}dd{margin-left:1.6em;margin-bottom:0.1em} pre,code,tt,kbd,samp,.mw-code{ font-family:monospace,monospace}pre,code,.mw-code{background-color:#f8f9fa;color:#000;border:1px solid #eaecf0}code{border-radius:2px;padding:1px 4px}pre,.mw-code{padding:1em; white-space:pre-wrap; overflow-x:hidden; word-wrap:break-word} table{font-size:100%} fieldset{border:1px solid #2a4b8d;margin:1em 0 1em 0;padding:0 1em 1em}legend{padding:0.5em;font-size:95%}form{border:0;margin:0}textarea{display:block;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;padding:0.1em} .center{width:100%;text-align:center}*.center *{margin-left:auto;margin-right:auto} .small{font-size:94%}table.small{font-size:100%}       .mw-content-ltr{ direction:ltr}.mw-content-rtl{ direction:rtl} .sitedir-ltr textarea,.sitedir-ltr input,textarea[dir='ltr'][dir='ltr'],input[dir='ltr'][dir='ltr']{ direction:ltr}.sitedir-rtl textarea,.sitedir-rtl input,textarea[dir='rtl'][dir='rtl'],input[dir='rtl'][dir='rtl']{ direction:rtl}.mw-userlink{word-wrap:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;unicode-bidi:embed} mark{background-color:#ff0;color:#000}  wbr{display:inline-block}  input[type='submit'],input[type='button'],input[type='reset'],input[type='file']{direction:ltr} abbr[title],.explain[title]{border-bottom:1px dotted;cursor:help}@supports (text-decoration:underline dotted){abbr[title],.explain[title]{border-bottom:0;text-decoration:underline dotted}} span.comment{font-style:italic;unicode-bidi:-moz-isolate;unicode-bidi:isolate} li span.deleted,span.history-deleted{text-decoration:line-through;color:#72777d;font-style:italic}  td.mw-label{text-align:right;vertical-align:middle}td.mw-input{text-align:left}td.mw-submit{text-align:left;white-space:nowrap}     div.tright,div.floatright,table.floatright{clear:right;float:right} div.tleft,div.floatleft,table.floatleft{float:left;clear:left}  .mw-content-ltr .thumbcaption{text-align:left} .mw-content-ltr .magnify{float:right} .mw-content-rtl .thumbcaption{text-align:right} .mw-content-rtl .magnify{float:left}  div.floatright,table.floatright{margin:0 0 0.5em 0.5em} div.floatleft,table.floatleft{margin:0 0.5em 0.5em 0} div.thumb{margin-bottom:0.5em;width:auto;background-color:transparent}div.thumbinner{border:1px solid #c8ccd1;padding:3px;background-color:#f8f9fa;font-size:94%;text-align:center; overflow:hidden}.thumbimage{background-color:#ffffff;border:1px solid #c8ccd1}.thumbcaption{border:0;line-height:1.4em;padding:3px;font-size:94%; text-align:left}.magnify{ float:right;margin-left:3px}.magnify a{display:block; text-indent:15px;white-space:nowrap;overflow:hidden; width:15px;height:11px;  background-image:url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.png?4f704);background-image:linear-gradient(transparent,transparent),url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e); -moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.thumbborder{border:1px solid #eaecf0}  .mw-content-ltr .magnify{margin-left:3px;margin-right:0} .mw-content-ltr .magnify a{ background-image:url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.png?4f704);background-image:linear-gradient(transparent,transparent),url(/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e)} .mw-content-rtl .magnify{margin-left:0;margin-right:3px} .mw-content-rtl .magnify a{ background-image:url(/w/resources/src/mediawiki.skinning/images/magnify-clip-rtl.png?a9fb3);background-image:linear-gradient(transparent,transparent),url(/w/resources/src/mediawiki.skinning/images/magnify-clip-rtl.svg?38fd5)} div.tright{margin:0.5em 0 1.3em 1.4em} div.tleft{margin:0.5em 1.4em 1.3em 0} #catlinks{ text-align:left}.catlinks ul{display:inline;margin:0;padding:0;list-style:none none}.catlinks li{display:inline-block;line-height:1.25em;border-left:1px solid #a2a9b1;margin:0.125em 0;padding:0 0.5em; }.catlinks li:first-child{padding-left:0.25em;border-left:0}.catlinks li a.mw-redirect{font-style:italic} .mw-hidden-cats-hidden,.catlinks-allhidden{display:none}   #mw-credits a{unicode-bidi:embed} #mw-clearyourcache{direction:ltr;unicode-bidi:embed} div.patrollink{font-size:75%;text-align:right} #mw-revision-info,#mw-revision-info-current,#mw-revision-nav{direction:ltr} p.mw-protect-editreasons,p.mw-filedelete-editreasons,p.mw-delete-editreasons{font-size:90%;text-align:right} .autocomment,.autocomment a,.autocomment a:visited{color:#72777d}  span.mw-revdelundel-link,strong.mw-revdelundel-link{font-size:90%}span.mw-revdelundel-hidden,input.mw-revdelundel-hidden{visibility:hidden} a.new{color:#ba0000} .wikitable{background-color:#f8f9fa;color:#202122;margin:1em 0;border:1px solid #a2a9b1;border-collapse:collapse}.wikitable > tr > th,.wikitable > tr > td,.wikitable > * > tr > th,.wikitable > * > tr > td{border:1px solid #a2a9b1;padding:0.2em 0.4em}.wikitable > tr > th,.wikitable > * > tr > th{background-color:#eaecf0;text-align:center}.wikitable > caption{font-weight:bold} .error,.warning,.success{font-size:larger}.error{color:#d33}.warning{color:#ac6600}.success{color:#14866d}  .mw-infobox{border:2px solid #fc3;margin:0.5em;clear:left;overflow:hidden}.mw-infobox-left{margin:7px;float:left;width:35px}.mw-infobox-right{margin:0.5em 0.5em 0.5em 49px}.visualClear{clear:both} .mw-datatable{border:1px solid #a2a9b1;border-collapse:collapse}.mw-datatable td,.mw-datatable th{border:1px solid #a2a9b1;padding:0.2em 0.4em}.mw-datatable th{background-color:#eaeeff}.mw-datatable td{background-color:#fff}.mw-datatable tr:hover td{background-color:#eaf3ff}.mw-ajax-loader{background-image:url(/w/resources/src/mediawiki.skinning/images/ajax-loader.gif?57f34);background-position:center center;background-repeat:no-repeat;padding:16px;position:relative;top:-16px}.mw-small-spinner{padding:10px !important; margin-right:0.6em;background-image:url(/w/resources/src/mediawiki.skinning/images/spinner.gif?ca65b);background-position:center center;background-repeat:no-repeat} .mw-content-ltr ul,.mw-content-rtl .mw-content-ltr ul{ margin:0.3em 0 0 1.6em;padding:0}.mw-content-rtl ul,.mw-content-ltr .mw-content-rtl ul{ margin:0.3em 1.6em 0 0;padding:0}.mw-content-ltr ol,.mw-content-rtl .mw-content-ltr ol{ margin:0.3em 0 0 3.2em;padding:0}.mw-content-rtl ol,.mw-content-ltr .mw-content-rtl ol{ margin:0.3em 3.2em 0 0;padding:0} .mw-content-ltr dd,.mw-content-rtl .mw-content-ltr dd{margin-left:1.6em;margin-right:0} .mw-content-rtl dd,.mw-content-ltr .mw-content-rtl dd{margin-right:1.6em;margin-left:0}  h1:lang(anp),h1:lang(as),h1:lang(bh),h1:lang(bho),h1:lang(bn),h1:lang(gu),h1:lang(hi),h1:lang(kn),h1:lang(ks),h1:lang(ml),h1:lang(mr),h1:lang(my),h1:lang(mai),h1:lang(ne),h1:lang(new),h1:lang(or),h1:lang(pa),h1:lang(pi),h1:lang(sa),h1:lang(ta),h1:lang(te){line-height:1.6em !important; } h2:lang(anp),h3:lang(anp),h4:lang(anp),h5:lang(anp),h6:lang(anp),h2:lang(as),h3:lang(as),h4:lang(as),h5:lang(as),h6:lang(as),h2:lang(bho),h3:lang(bho),h4:lang(bho),h5:lang(bho),h6:lang(bho),h2:lang(bh),h3:lang(bh),h4:lang(bh),h5:lang(bh),h6:lang(bh),h2:lang(bn),h3:lang(bn),h4:lang(bn),h5:lang(bn),h6:lang(bn),h2:lang(gu),h3:lang(gu),h4:lang(gu),h5:lang(gu),h6:lang(gu),h2:lang(hi),h3:lang(hi),h4:lang(hi),h5:lang(hi),h6:lang(hi),h2:lang(kn),h3:lang(kn),h4:lang(kn),h5:lang(kn),h6:lang(kn),h2:lang(ks),h3:lang(ks),h4:lang(ks),h5:lang(ks),h6:lang(ks),h2:lang(ml),h3:lang(ml),h4:lang(ml),h5:lang(ml),h6:lang(ml),h2:lang(mr),h3:lang(mr),h4:lang(mr),h5:lang(mr),h6:lang(mr),h2:lang(my),h3:lang(my),h4:lang(my),h5:lang(my),h6:lang(my),h2:lang(mai),h3:lang(mai),h4:lang(mai),h5:lang(mai),h6:lang(mai),h2:lang(ne),h3:lang(ne),h4:lang(ne),h5:lang(ne),h6:lang(ne),h2:lang(new),h3:lang(new),h4:lang(new),h5:lang(new),h6:lang(new),h2:lang(or),h3:lang(or),h4:lang(or),h5:lang(or),h6:lang(or),h2:lang(pa),h3:lang(pa),h4:lang(pa),h5:lang(pa),h6:lang(pa),h2:lang(pi),h3:lang(pi),h4:lang(pi),h5:lang(pi),h6:lang(pi),h2:lang(sa),h3:lang(sa),h4:lang(sa),h5:lang(sa),h6:lang(sa),h2:lang(ta),h3:lang(ta),h4:lang(ta),h5:lang(ta),h6:lang(ta),h2:lang(te),h3:lang(te),h4:lang(te),h5:lang(te),h6:lang(te){line-height:1.4em}  ol:lang(azb) li,ol:lang(bcc) li,ol:lang(bgn) li,ol:lang(bqi) li,ol:lang(fa) li,ol:lang(glk) li,ol:lang(kk-arab) li,ol:lang(lrc) li,ol:lang(luz) li,ol:lang(mzn) li{list-style-type:persian}ol:lang(ckb) li,ol:lang(sdh) li{list-style-type:arabic-indic}ol:lang(hi) li,ol:lang(mai) li,ol:lang(mr) li,ol:lang(ne) li{list-style-type:devanagari}ol:lang(as) li,ol:lang(bn) li{list-style-type:bengali}ol:lang(or) li{list-style-type:oriya} .toc .toctitle{direction:ltr}  .mw-content-ltr .toc ul,.mw-content-rtl .mw-content-ltr .toc ul{text-align:left} .mw-content-rtl .toc ul,.mw-content-ltr .mw-content-rtl .toc ul{text-align:right} .mw-content-ltr .toc ul ul,.mw-content-rtl .mw-content-ltr .toc ul ul{margin:0 0 0 2em} .mw-content-rtl .toc ul ul,.mw-content-ltr .mw-content-rtl .toc ul ul{margin:0 2em 0 0} .printfooter{display:none} .xdebug-error{position:absolute;z-index:99}.mw-editsection{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none} .mw-editsection,.mw-editsection-like{font-size:small;font-weight:normal;margin-left:1em;vertical-align:baseline; line-height:1em}  .mw-content-ltr .mw-editsection,.mw-content-rtl .mw-content-ltr .mw-editsection{margin-left:1em} .mw-content-rtl .mw-editsection,.mw-content-ltr .mw-content-rtl .mw-editsection{margin-right:1em} sup,sub{line-height:1}   .toc,.toccolours{border:1px solid #a2a9b1;background-color:#f8f9fa;padding:5px;font-size:95%} .toc{display:table;padding:7px}.toc h2{display:inline;border:0;padding:0;font-size:100%;font-weight:bold}.toc .toctitle{text-align:center}.toc ul{list-style-type:none;list-style-image:none;margin:0.3em 0;padding:0;text-align:left}.toc ul ul{margin:0 0 0 2em} table.toc{border-collapse:collapse; }table.toc td{padding:0} .tocnumber,.toctext{display:table-cell; text-decoration:inherit} .tocnumber{color:#202122;padding-left:0;padding-right:0.5em}.mw-content-ltr .tocnumber{ padding-left:0; padding-right:0.5em}.mw-content-rtl .tocnumber{ padding-left:0.5em; padding-right:0}  :not(:checked) > .toctogglecheckbox{display:inline !important; position:absolute;opacity:0;z-index:-1}.toctogglespan{font-size:94%}  :not(:checked) > .toctogglespan:before{content:' ['}:not(:checked) > .toctogglespan:after{content:']'} .toctogglelabel{cursor:pointer;color:#0645ad}.toctogglelabel:hover{text-decoration:underline}  .toctogglecheckbox:focus + .toctitle .toctogglelabel{text-decoration:underline;outline:dotted 1px; outline:auto -webkit-focus-ring-color; } .toctogglecheckbox:checked + .toctitle .toctogglelabel:after{content:'show'}.toctogglecheckbox:not(:checked) + .toctitle .toctogglelabel:after{content:'hide'} .toc .toctitle{direction:ltr}  .mw-content-ltr .toc ul,.mw-content-rtl .mw-content-ltr .toc ul{text-align:left} .mw-content-rtl .toc ul,.mw-content-ltr .mw-content-rtl .toc ul{text-align:right} .mw-content-ltr .toc ul ul,.mw-content-rtl .mw-content-ltr .toc ul ul{margin:0 0 0 2em} .mw-content-rtl .toc ul ul,.mw-content-ltr .mw-content-rtl .toc ul ul{margin:0 2em 0 0}}
@media screen and (max-width: 550px) {
	#sidebar .generated-sidebar,#p-search-mobilejs,#p-tb-mobilejs,#p-lang-mobilejs,#t-contributions{display:none}#p-cactions,#p-personal,#p-tb,#p-lang,#sidebar-mobilejs{position:absolute;top:-9999px;left:0}#p-cactions.mobile-menu-active,#p-personal.mobile-menu-active,#p-tb.mobile-menu-active,#p-lang.mobile-menu-active,#sidebar-mobilejs.mobile-menu-active{top:2em;left:0}.mobile-menu-active{position:absolute;z-index:10000;background:#ffffff;border:solid 1px #fabd23;border-left:0;padding:2em 2em 0 1.5em;font-size:125%}.mobile-menu-active *[id^='ca-nstab-'],.mobile-menu-active #ca-talk,.mobile-menu-active #ca-edit{position:absolute;top:-9999px;left:0}.mobile-menu-active ul{padding-top:1em}.mobile-menu-active li{white-space:nowrap}.mobile-menu-active a{display:block;padding:0.65em 0}.mobile-menu-active h3:first-child{margin-right:2em}.mobile-menu-active .pBody{margin-bottom:2em}.mobile-menu-active .mobile-close-button{width:20px;height:20px;background-image:url(/w/skins/MonoBook/resources/images/icon-close.svg?a9af1);background-position:0 0;background-repeat:no-repeat;position:absolute;top:1em;right:0.75em;cursor:pointer}.menus-cover{display:none;top:0;left:0;width:100%;height:100%;z-index:9999}.menus-cover.visible{display:block}#menus-cover{position:fixed;opacity:0.45;background-color:#ffffff}#menus-cover-background{position:absolute;background-color:#f9f9f9;background-image:url(/w/skins/MonoBook/resources/images/headbg.svg?0be07);background-position:0 0;background-repeat:no-repeat;opacity:0.55}#p-cactions-mobile li#ca-edit-mobile a{background-image:url(/w/skins/MonoBook/resources/images/icon-edit.svg?badf7)}#p-cactions-mobile li#t-contributions-mobile a{background-image:url(/w/skins/MonoBook/resources/images/icon-user.svg?9bf49)}}
@media screen {
	.toctoggle{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;font-size:94%}}</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="APU%20-%20Nesdev%20wiki_files/load_002.css">
<meta name="generator" content="MediaWiki 1.36.1">
<meta name="robots" content="noindex,nofollow">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="shortcut icon" href="https://wiki.nesdev.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.nesdev.org/w/opensearch_desc.php" title="Nesdev wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.nesdev.org/w/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="Nesdev wiki Atom feed" href="https://wiki.nesdev.org/w/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-APU rootpage-APU skin-monobook action-view skin--responsive"><div id="globalWrapper"><div id="column-content"><div id="content" class="mw-body" role="main"><a id="top"></a><div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">APU</h1><div id="bodyContent" class="mw-body-content"><div id="siteSub">From Nesdev wiki</div><div id="contentSub" dir="ltr" lang="en"></div><div id="jump-to-nav"></div><a href="#column-one" class="mw-jump-link">Jump to navigation</a><a href="#searchInput" class="mw-jump-link">Jump to search</a><!-- start content --><div id="mw-content-text" dir="ltr" class="mw-content-ltr" lang="en"><div class="mw-parser-output"><p>The NES <b>APU</b> is the <b>audio processing unit</b> in the NES console which generates sound for games. It is implemented in the RP2A03 (NTSC) and RP2A07 (PAL) chips. Its <a href="https://wiki.nesdev.org/w/index.php?title=APU_registers" title="APU registers">registers</a> are mapped in the range $4000-$4013, $4015 and $4017.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Conditions_for_channel_output"><span class="tocnumber">1.1</span> <span class="toctext">Conditions for channel output</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Notes"><span class="tocnumber">1.2</span> <span class="toctext">Notes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Specification"><span class="tocnumber">2</span> <span class="toctext">Specification</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Registers"><span class="tocnumber">2.1</span> <span class="toctext">Registers</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Pulse_.28.244000-4007.29"><span class="tocnumber">2.2</span> <span class="toctext">Pulse ($4000-4007)</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Triangle_.28.244008-400B.29"><span class="tocnumber">2.3</span> <span class="toctext">Triangle ($4008-400B)</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Noise_.28.24400C-400F.29"><span class="tocnumber">2.4</span> <span class="toctext">Noise ($400C-400F)</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#DMC_.28.244010-4013.29"><span class="tocnumber">2.5</span> <span class="toctext">DMC ($4010-4013)</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Other_Uses"><span class="tocnumber">2.5.1</span> <span class="toctext">Other Uses</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Status_.28.244015.29"><span class="tocnumber">2.6</span> <span class="toctext">Status ($4015)</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Frame_Counter_.28.244017.29"><span class="tocnumber">2.7</span> <span class="toctext">Frame Counter ($4017)</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Length_Counter"><span class="tocnumber">2.7.1</span> <span class="toctext">Length Counter</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Mixer"><span class="tocnumber">2.8</span> <span class="toctext">Mixer</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Glossary"><span class="tocnumber">3</span> <span class="toctext">Glossary</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#References"><span class="tocnumber">4</span> <span class="toctext">References</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<dl><dd><i>For a simple subset of APU functionality oriented toward music engine developers rather than emulator developers, see <a href="https://wiki.nesdev.org/w/index.php?title=APU_basics" title="APU basics">APU basics</a>.</i></dd></dl>
<p>The APU has five channels: two pulse wave generators, a triangle 
wave, noise, and a delta modulation channel for playing DPCM samples.
</p><p>Each channel has a variable-rate timer clocking a waveform 
generator, and various modulators driven by low-frequency clocks from 
the <a href="#Frame_Counter_.28.244017.29">frame counter</a>. The <a href="#DMC_.28.244010-4013.29">DMC</a>
 plays samples while the other channels play waveforms. Each sub-unit of
 a channel generally runs independently and in parallel to other units, 
and modification of a channel's parameter usually affects only one 
sub-unit and doesn't take effect until that unit's next internal cycle 
begins.
</p><p>The read/write <a href="#Status_.28.244015.29">status register</a> allows channels to be enabled and disabled, and their current <a href="#Length_Counter">length counter status</a> to be queried.
</p><p>The outputs from all the channels are combined using a <a href="https://wiki.nesdev.org/w/index.php?title=APU_Mixer" title="APU Mixer">non-linear mixing</a> scheme.
</p>
<h3><span class="mw-headline" id="Conditions_for_channel_output">Conditions for channel output</span></h3>
<p>The pulse, triangle, and noise channels will play their corresponding
 waveforms (at either a constant volume or at a volume controlled by an <a href="https://wiki.nesdev.org/w/index.php?title=APU_Envelope" title="APU Envelope">envelope</a>) only when (and in the model given here, <i>precisely</i> when) their <a href="#Length_Counter">length counters</a>
 are all non-zero (this includes the linear counter for the triangle 
channel). There are two exceptions for the pulse channels, which can 
also be silenced either by having a frequency above a certain threshold 
(see below), or by a <a href="https://wiki.nesdev.org/w/index.php?title=APU_Sweep" title="APU Sweep">sweep</a> towards lower frequencies (longer periods) reaching the end of the range.
</p><p>The DMC channel always outputs the value of its counter, 
regardless of the status of the DMC enable bit; the enable bit only 
controls automatic playback of delta-encoded samples (which is done 
through counter updates).
</p>
<h3><span class="mw-headline" id="Notes">Notes</span></h3>
<ul><li>This reference describes the <i>abstract</i> operation of the APU. The <i>exact</i> hardware implementation is not necessarily relevant to an emulator, but the <a rel="nofollow" class="external text" href="http://www.qmtpro.com/~nes/chipimages/visual2a03/">Visual 2A03</a> project can be used to determine detailed information about the hardware implementation.</li>
<li>The <a href="https://wiki.nesdev.org/w/index.php?title=Famicom" title="Famicom">Famicom</a> had an audio return loop on its <a href="https://wiki.nesdev.org/w/index.php?title=Cartridge_connector" title="Cartridge connector">cartridge connector</a> allowing extra audio from individual cartridges. See <a href="https://wiki.nesdev.org/w/index.php?title=Category:Expansion_audio" title="Category:Expansion audio">Expansion audio</a> for details on the audio produced by various <a href="https://wiki.nesdev.org/w/index.php?title=Mapper" title="Mapper">mappers</a>.</li>
<li>For a basic usage guide to the APU, see <a href="https://wiki.nesdev.org/w/index.php?title=APU_basics" title="APU basics">APU basics</a>, or <a href="https://wiki.nesdev.org/w/index.php?title=Nerdy_Nights:_APU_overview" title="Nerdy Nights: APU overview">Nerdy Nights: APU overview</a>.</li>
<li>The APU may have additional diagnostic features if CPU pin 30 is pulled high. See <a href="https://wiki.nesdev.org/w/index.php?title=File:Apu_address.jpg" title="File:Apu address.jpg">diagram by Quietust</a>.</li></ul>
<h2><span class="mw-headline" id="Specification">Specification</span></h2>
<h3><span class="mw-headline" id="Registers">Registers</span></h3>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_registers" title="APU registers">APU Registers</a> for a complete APU register diagram.</li></ul>
<table class="tabular">
<tbody><tr>
<th>Registers</th>
<th>Channel</th>
<th>Units
</th></tr>
<tr>
<th>$4000-$4003
</th>
<td><a href="#Pulse_.28.244000-4007.29">Pulse 1</a></td>
<td>Timer, <a href="#Length_Counter">length counter</a>, <a href="https://wiki.nesdev.org/w/index.php?title=APU_Envelope" title="APU Envelope">envelope</a>, <a href="https://wiki.nesdev.org/w/index.php?title=APU_Sweep" title="APU Sweep">sweep</a>
</td></tr>
<tr>
<th>$4004-$4007
</th>
<td><a href="#Pulse_.28.244000-4007.29">Pulse 2</a></td>
<td>Timer, <a href="#Length_Counter">length counter</a>, <a href="https://wiki.nesdev.org/w/index.php?title=APU_Envelope" title="APU Envelope">envelope</a>, <a href="https://wiki.nesdev.org/w/index.php?title=APU_Sweep" title="APU Sweep">sweep</a>
</td></tr>
<tr>
<th>$4008-$400B
</th>
<td><a href="#Triangle_.28.244008-400B.29">Triangle</a></td>
<td>Timer, <a href="#Length_Counter">length counter</a>, linear counter
</td></tr>
<tr>
<th>$400C-$400F
</th>
<td><a href="#Noise_.28.24400C-400F.29">Noise</a></td>
<td>Timer, <a href="#Length_Counter">length counter</a>, <a href="https://wiki.nesdev.org/w/index.php?title=APU_Envelope" title="APU Envelope">envelope</a>, linear feedback shift register
</td></tr>
<tr>
<th>$4010-$4013
</th>
<td><a href="#DMC_.28.244010-4013.29">DMC</a></td>
<td>Timer, memory reader, sample buffer, output unit
</td></tr>
<tr>
<th>$4015
</th>
<td>All</td>
<td><a href="#Status_.28.244015.29">Channel enable and length counter status</a>
</td></tr>
<tr>
<th>$4017
</th>
<td>All</td>
<td><a href="#Frame_Counter_.28.244017.29">Frame counter</a>
</td></tr></tbody></table>
<h3><span id="Pulse_($4000-4007)"></span><span class="mw-headline" id="Pulse_.28.244000-4007.29">Pulse ($4000-4007)</span></h3>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Pulse" title="APU Pulse">APU Pulse</a></li></ul>
<p>The pulse channels produce a variable-width pulse signal, controlled by volume, envelope, length, and sweep units.
</p>
<table class="tabular">
<tbody><tr>
<th>$4000 / $4004
</th>
<td><tt>DDLC VVVV</tt></td>
<td>Duty (D), envelope loop / length counter halt (L), constant volume (C), volume/envelope (V)
</td></tr>
<tr>
<th>$4001 / $4005
</th>
<td><tt>EPPP NSSS</tt></td>
<td>Sweep unit: enabled (E), period (P), negate (N), shift (S)
</td></tr>
<tr>
<th>$4002 / $4006
</th>
<td><tt>TTTT TTTT</tt></td>
<td>Timer low (T)
</td></tr>
<tr>
<th>$4003 / $4007
</th>
<td><tt>LLLL LTTT</tt></td>
<td>Length counter load (L), timer high (T)
</td></tr></tbody></table>
<ul><li>The frequency of the pulse channels is a division of the <a href="https://wiki.nesdev.org/w/index.php?title=Cycle_reference_chart#Clock_rates" title="Cycle reference chart">CPU Clock</a>
 (1.789773MHz NTSC, 1.662607MHz PAL). The output frequency (f) of the 
generator can be determined by the 11-bit period value (t) written to 
$4002-4003/$4006-4007. If t &lt; 8, the corresponding pulse channel is 
silenced.
<dl><dd>f = CPU / (16 * (t + 1))</dd>
<dd>t = (CPU / (16 * f)) - 1</dd></dl></li>
<li>The width of the pulse is controlled by the duty bits in $4000/4004. See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Pulse" title="APU Pulse">APU Pulse</a> for details.</li>
<li>The channel volume is a 4-bit value that is either constant, or 
controlled by an envelope (chosen by $4000/4004 bit 4). If using the 
envelope, the 4-bit value in $4000/4004 is the period of the envelope, 
otherwise it is the direct volume.</li>
<li>The length counter and envelope units are clocked by the <a href="#Frame_Counter">frame counter</a>.
 If the envelope is not looped, the length counter must be enabled 
(making it redundant if longer than the envelope). The length counter 
simply silences the channel when it counts down to 0. The envelope 
starts at a volume of 15 and decrements every time the unit is clocked, 
stopping at 0 if not looped.</li>
<li>Writing to $4003/4007 reloads the length counter, restarts the 
envelope, and resets the phase of the pulse generator. Because it resets
 phase, vibrato should only write the low timer register to avoid a 
phase reset click. At some pitches, particularly near A440, wide vibrato
 should normally be avoided (e.g. this flaw is heard throughout the Mega
 Man 2 ending).</li>
<li>Registers $4001/4005 control the sweep unit. Enabling the sweep 
causes the pitch to constantly rise or fall. When the frequency reaches 
the end of the generator's range of output the channel is silenced. See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Sweep" title="APU Sweep">APU Sweep</a> for details.</li>
<li>The two pulse channels are combined in a nonlinear mix (see <a href="#Mixer">mixer</a> below).</li></ul>
<h3><span id="Triangle_($4008-400B)"></span><span class="mw-headline" id="Triangle_.28.244008-400B.29">Triangle ($4008-400B)</span></h3>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Triangle" title="APU Triangle">APU Triangle</a></li></ul>
<p>The triangle channel produces a quantized triangle wave. It has no 
volume control, but it has a length counter as well as a higher 
resolution linear counter control (called "linear" since it uses the 
7-bit value written to $4008 directly instead of a lookup table like the
 length counter).
</p>
<table class="tabular">
<tbody><tr>
<th>$4008
</th>
<td><tt>CRRR RRRR</tt></td>
<td>Length counter halt / linear counter control (C), linear counter load (R)
</td></tr>
<tr>
<th>$4009
</th>
<td><tt>---- ----</tt></td>
<td>Unused
</td></tr>
<tr>
<th>$400A
</th>
<td><tt>TTTT TTTT</tt></td>
<td>Timer low (T)
</td></tr>
<tr>
<th>$400B
</th>
<td><tt>LLLL LTTT</tt></td>
<td>Length counter load (L), timer high (T)
</td></tr></tbody></table>
<ul><li>The triangle wave has 32 steps that output a 4-bit value.</li>
<li>The linear counter control will silence the channel after a specified time with a resolution of 240Hz in NTSC (see <a href="#Frame_Counter">frame counter</a>
 below). It shares a control bit with the length counter in $4008, which
 means that they are always enabled at the same time, and whichever is 
longer is redundant. See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Triangle" title="APU Triangle">APU Triangle</a> for more linear counter details.</li>
<li>The pitch of the triangle channel is one octave below the pulse 
channels with an equivalent timer value (i.e. use the formula above but 
divide the resulting frequency by two).</li>
<li>Silencing the triangle channel merely halts it. It will continue to output its last value, rather than 0.</li>
<li>There is no way to reset the triangle channel's phase.</li></ul>
<h3><span id="Noise_($400C-400F)"></span><span class="mw-headline" id="Noise_.28.24400C-400F.29">Noise ($400C-400F)</span></h3>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Noise" title="APU Noise">APU Noise</a></li></ul>
<p>The noise channel produces noise with a pseudo-random bit generator.
It has a volume, envelope, and length counter like the pulse channels.
</p>
<table class="tabular">
<tbody><tr>
<th>$400C
</th>
<td><tt>--LC VVVV</tt></td>
<td>Envelope loop / length counter halt (L), constant volume (C), volume/envelope (V)
</td></tr>
<tr>
<th>$400D
</th>
<td><tt>---- ----</tt></td>
<td>Unused
</td></tr>
<tr>
<th>$400E
</th>
<td><tt>L--- PPPP</tt></td>
<td>Loop noise (L), noise period (P)
</td></tr>
<tr>
<th>$400F
</th>
<td><tt>LLLL L---</tt></td>
<td>Length counter load (L)
</td></tr></tbody></table>
<ul><li>The frequency of the noise is determined by a 4-bit value in $400E, which loads a period from a lookup table (see <a href="https://wiki.nesdev.org/w/index.php?title=APU_Noise" title="APU Noise">APU Noise</a>).</li>
<li>If bit 7 of $400E is set, the period of the random bit generation is
 drastically shortened, producing a buzzing tone (e.g. the metalic ding 
during Solstice's gameplay). The actual timbre produced depends on 
whatever bits happen to be in the generator when it is switched to 
periodic, and is somewhat random.</li></ul>
<h3><span id="DMC_($4010-4013)"></span><span class="mw-headline" id="DMC_.28.244010-4013.29">DMC ($4010-4013)</span></h3>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_DMC" title="APU DMC">APU DMC</a></li></ul>
<p>The delta modulation channel outputs a 7-bit PCM signal from a counter that can be driven by DPCM samples.
</p>
<table class="tabular">
<tbody><tr>
<th>$4010
</th>
<td><tt>IL-- RRRR</tt></td>
<td>IRQ enable (I), loop (L), frequency (R)
</td></tr>
<tr>
<th>$4011
</th>
<td><tt>-DDD DDDD</tt></td>
<td>Load counter (D)
</td></tr>
<tr>
<th>$4012
</th>
<td><tt>AAAA AAAA</tt></td>
<td>Sample address (A)
</td></tr>
<tr>
<th>$4013
</th>
<td><tt>LLLL LLLL</tt></td>
<td>Sample length (L)
</td></tr></tbody></table>
<ul><li>DPCM samples are stored as a stream of 1-bit deltas that control
 the 7-bit PCM counter that the channel outputs. A bit of 1 will 
increment the counter, 0 will decrement, and it will clamp rather than 
overflow if the 7-bit range is exceeded.</li>
<li>DPCM samples may loop if the loop flag in $4010 is set, and the DMC 
may be used to generate an IRQ when the end of the sample is reached if 
its IRQ flag is set.</li>
<li>The playback rate is controlled by register $4010 with a 4-bit frequency index value (see <a href="https://wiki.nesdev.org/w/index.php?title=APU_DMC" title="APU DMC">APU DMC</a> for frequency lookup tables).</li>
<li>DPCM samples must begin in the memory range $C000-FFFF at an address set by register $4012 (address = %11AAAAAA.AA000000).</li>
<li>The length of the sample in bytes is set by register $4013 (length = %LLLL.LLLL0001).</li></ul>
<h4><span class="mw-headline" id="Other_Uses">Other Uses</span></h4>
<ul><li>The $4011 register can be used to play PCM samples directly by 
setting the counter value at a high frequency. Because this requires 
intensive use of the CPU, when used in games all other gameplay is 
usually halted to facilitate this.</li>
<li>Because of the APU's <a href="#Mixer">nonlinear mixing</a>, a high 
value in the PCM counter reduces the volume of the triangle and noise 
channels. This is sometimes used to apply limited volume control to the 
triangle channel (e.g. Super Mario Bros. adjusts the counter between 
levels to accomplish this).</li>
<li>The DMC's IRQ can be used as an IRQ based timer when the <a href="https://wiki.nesdev.org/w/index.php?title=Mapper" title="Mapper">mapper</a> used does not have one available.</li></ul>
<h3><span id="Status_($4015)"></span><span class="mw-headline" id="Status_.28.244015.29">Status ($4015)</span></h3>
<p>The status register is used to enable and disable individual channels, control the DMC, and can
read the status of length counters and APU interrupts.
</p>
<table class="tabular">
<tbody><tr>
<th>$4015 write
</th>
<td><tt>---D NT21</tt></td>
<td>Enable DMC (D), noise (N), triangle (T), and pulse channels (2/1)
</td></tr></tbody></table>
<ul><li>Writing a zero to any of the channel enable bits will silence that channel and immediately set its length counter to 0.</li>
<li>If the DMC bit is clear, the DMC bytes remaining will be set to 0 and the DMC will silence when it empties.</li>
<li>If the DMC bit is set, the DMC sample will be restarted <i>only if</i>
 its bytes remaining is 0. If there are bits remaining in the 1-byte 
sample buffer, these will finish playing before the next sample is 
fetched.</li>
<li>Writing to this register clears the DMC interrupt flag.</li>
<li><a href="https://wiki.nesdev.org/w/index.php?title=CPU_power_up_state" title="CPU power up state">Power-up and reset</a> have the effect of writing $00, silencing all channels.</li></ul>
<table class="tabular">
<tbody><tr>
<th>$4015 read
</th>
<td><tt>IF-D NT21</tt></td>
<td>DMC interrupt (I), frame interrupt (F), DMC active (D), length counter &gt; 0 (N/T/2/1)
</td></tr></tbody></table>
<ul><li>N/T/2/1 will read as 1 if the corresponding length counter is 
greater than 0. For the triangle channel, the status of the linear 
counter is irrelevant.</li>
<li>D will read as 1 if the DMC bytes remaining is more than 0.</li>
<li>Reading this register clears the frame interrupt flag (but not the DMC interrupt flag).</li>
<li>If an interrupt flag was set at the same moment of the read, it will read back as 1 but it will <i>not</i> be cleared.</li></ul>
<h3><span id="Frame_Counter_($4017)"></span><span class="mw-headline" id="Frame_Counter_.28.244017.29">Frame Counter ($4017)</span></h3>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Frame_Counter" title="APU Frame Counter">APU Frame Counter</a></li></ul>
<table class="tabular">
<tbody><tr>
<th>$4017
</th>
<td><tt>MI-- ----</tt></td>
<td>Mode (M, 0 = 4-step, 1 = 5-step), IRQ inhibit flag (I)
</td></tr></tbody></table>
<p>The frame counter is controlled by register $4017, and it drives the 
envelope, sweep, and length units on the pulse, triangle and noise 
channels. It ticks approximately 4 times per frame (240Hz NTSC), and 
executes either a 4 or 5 step sequence, depending how it is configured. 
It may optionally issue an <a href="https://wiki.nesdev.org/w/index.php?title=IRQ" title="IRQ">IRQ</a> on the last tick of the 4 step sequence.
</p><p>The following diagram illustrates the two modes, selected by bit 7 of $4017:
</p>
<pre>mode 0:    mode 1:       function
---------  -----------  -----------------------------
 - - - f    - - - - -    IRQ (if bit 6 is clear)
 - l - l    - l - - l    Length counter and sweep
 e e e e    e e e - e    Envelope and linear counter
</pre>
<p>Both the 4 and 5-step modes operate at the same rate, but because the
 5-step mode has an extra step, the effective update rate for individual
 units is slower in that mode (total update taking ~60Hz vs ~48Hz in 
NTSC). Writing to $4017 resets the frame counter and the quarter/half 
frame triggers happen simultaneously, but only on "odd" cycles (and only
 after the first "even" cycle after the write occurs) - thus, it happens
 either 2 or 3 cycles after the write (i.e. on the 2nd or 3rd cycle of 
the next instruction). After 2 or 3 clock cycles (depending on when the 
write is performed), the timer is reset. Writing to $4017 with bit 7 set
 ($80) will immediately clock all of its controlled units at the 
beginning of the 5-step sequence; with bit 7 clear, only the sequence is
 reset without clocking any of its units.
</p><p>Note that the frame counter is not exactly synchronized with the PPU <a href="https://wiki.nesdev.org/w/index.php?title=NMI" title="NMI">NMI</a>;
 it runs independently at a consistent rate which is approximately 240Hz
 (NTSC). Some games (e.g. Super Mario Bros., Zelda) manually synchronize
 it by writing $C0 or $FF to $4017 once per frame.
</p>
<h4><span class="mw-headline" id="Length_Counter">Length Counter</span></h4>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Length_Counter" title="APU Length Counter">APU Length Counter</a></li></ul>
<p>The pulse, triangle, and noise channels each have their own length 
counter unit. It is clocked twice per sequence, and counts down to zero 
if enabled. When the length counter reaches zero the channel is 
silenced. It is reloaded by writing a 5-bit value to the appropriate 
channel's length counter register, which will load a value from a lookup
 table. (See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Length_Counter" title="APU Length Counter">APU Length Counter</a> for the table.)
</p><p>The triangle channel has an additional <b>linear counter</b> unit
 which is clocked four times per sequence (like the envelope of the 
other channels). It functions independently of the length counter, and 
will also silence the triangle channel when it reaches zero.
</p>
<h3><span class="mw-headline" id="Mixer">Mixer</span></h3>
<ul><li>See <a href="https://wiki.nesdev.org/w/index.php?title=APU_Mixer" title="APU Mixer">APU Mixer</a></li></ul>
<p>The APU audio output signal comes from two separate components. The 
pulse channels are output on one pin, and the triangle/noise/DMC are 
output on another, after which they are combined. Each of these channels
 has its own nonlinear DAC. For details, see <a href="https://wiki.nesdev.org/w/index.php?title=APU_Mixer" title="APU Mixer">APU Mixer</a>.
</p><p>After combining the two output signals, the final signal may go 
through a lowpass and highpass filter. For instance, RF demodulation in 
televisions usually results in a strong lowpass. The NES' RCA output 
circuitry has a more mild lowpass filter.
</p>
<h2><span class="mw-headline" id="Glossary">Glossary</span></h2>
<ul><li>All <a class="mw-selflink selflink">APU</a> channels have some form of frequency control. The term <b>frequency</b> is used where larger register value(s) correspond with higher frequencies, and the term <b>period</b> is used where smaller register value(s) correspond with higher frequencies.</li>
<li>In the block diagrams, a <b>gate</b> takes the input on the left and
 outputs it on the right, unless the control input on top tells the gate
 to ignore the input and always output 0.</li>
<li>Some <a class="mw-selflink selflink">APU</a> units use one or more of the following building blocks:
<ul><li>A <b>divider</b> outputs a clock periodically. It contains a 
period reload value, P, and a counter, that starts at P. When the 
divider is clocked, if the counter is currently 0, it is reloaded with P
 and generates an output clock, otherwise the counter is decremented. In
 other words, the divider's period is P + 1.</li>
<li>A divider can also be forced to reload its counter immediately (counter = P), but this <i>does not</i> output a clock. Similarly, changing a divider's period reload value <i>does not</i> affect the counter. Some counters offer no way to force a reload, but <a rel="nofollow" class="external text" href="http://forums.nesdev.org/viewtopic.php?p=186129#p186129">setting P to 0</a> at least synchronizes it to a known state once the current count expires.</li>
<li>A divider may be implemented as a down counter (5, 4, 3, ...) or as a <a href="https://en.wikipedia.org/wiki/linear_feedback_shift_register" class="extiw" title="wikipedia:linear feedback shift register">linear feedback shift register</a>
 (LFSR). The dividers in the pulse and triangle channels are linear 
down-counters. The dividers for noise, DMC, and the APU Frame Counter 
are implemented as LFSRs to save gates compared to the equivalent down 
counter.</li>
<li>A <b>sequencer</b> continuously loops over a sequence of values or 
events. When clocked, the next item in the sequence is generated. In 
this APU documentation, clocking a sequencer usually means either 
advancing to the next step in a waveform, or the event sequence of the <a href="https://wiki.nesdev.org/w/index.php?title=APU_Frame_Counter" title="APU Frame Counter">Frame Counter</a> device.</li>
<li>A <b>timer</b> is used in each of the five channels to control the sound frequency. It contains a divider which is clocked by the <a href="https://wiki.nesdev.org/w/index.php?title=CPU" title="CPU">CPU</a>
 clock. The triangle channel's timer is clocked on every CPU cycle, but 
the pulse, noise, and DMC timers are clocked only on every second CPU 
cycle and thus produce only even periods.</li></ul></li></ul>
<h2><span class="mw-headline" id="References">References</span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://nesdev.org/apu_ref.txt">Blargg's NES APU Reference</a>.</li>
<li><a rel="nofollow" class="external text" href="http://nesdev.org/2A03%20technical%20reference.txt">Brad Taylor's 2A03 Technical Reference</a>.</li></ul>
<!-- 
NewPP limit report
Cached time: 20220104212704
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.105 seconds
Real time usage: 0.112 seconds
Preprocessor visited node count: 110/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key nesdev_db-wiki_:pcache:idhash:48-0!canonical and timestamp 20220104212704 and revision id 344. Serialized with JSON.
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.nesdev.org/w/index.php?title=APU&amp;oldid=344">https://wiki.nesdev.org/w/index.php?title=APU&amp;oldid=344</a>"</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.nesdev.org/w/index.php?title=Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="https://wiki.nesdev.org/w/index.php?title=Category:APU" title="Category:APU">APU</a></li></ul></div></div><!-- end content --><div class="visualClear"></div></div></div><div class="visualClear"></div></div><div id="column-one" dir="ltr" lang="en"><h2>Navigation menu</h2><div role="navigation" class="portlet" id="p-cactions" aria-labelledby="p-cactions-label"><h3 id="p-cactions-label" dir="ltr" lang="en">Page actions</h3><div class="pBody"><ul dir="ltr" lang="en"><li id="ca-nstab-main" class="selected"><a href="https://wiki.nesdev.org/w/index.php?title=APU" title="View the content page [Alt+Shift+c]" accesskey="c">Page</a></li><li id="ca-talk"><a href="https://wiki.nesdev.org/w/index.php?title=Talk:APU" rel="discussion" title="Discussion about the content page [Alt+Shift+t]" accesskey="t">Discussion</a></li><li id="ca-viewsource"><a href="https://wiki.nesdev.org/w/index.php?title=APU&amp;action=edit" title="This page is protected.
You can view its source [Alt+Shift+e]" accesskey="e">View source</a></li><li id="ca-history"><a href="https://wiki.nesdev.org/w/index.php?title=APU&amp;action=history" title="Past revisions of this page [Alt+Shift+h]" accesskey="h">History</a></li></ul></div></div><div role="navigation" class="portlet" id="p-cactions-mobile" aria-labelledby="p-cactions-mobile-label"><h3 id="p-cactions-mobile-label" dir="ltr" lang="en">Page actions</h3><div class="pBody"><ul dir="ltr" lang="en"><li id="ca-nstab-main-mobile" class="selected"><a href="https://wiki.nesdev.org/w/index.php?title=APU" title="Page">Page</a></li><li id="ca-talk-mobile"><a href="https://wiki.nesdev.org/w/index.php?title=Talk:APU" rel="discussion" title="Discussion">Discussion</a></li><li id="ca-more"><a href="#p-cactions">More</a></li><li id="ca-tools"><a href="#p-tb" title="Tools">Tools</a></li><li id="ca-languages"><a href="#p-lang" title="In other languages">In other languages</a></li></ul></div></div><div role="navigation" class="portlet" id="p-personal" aria-labelledby="p-personal-label"><h3 id="p-personal-label" dir="ltr" lang="en">Personal tools</h3><div class="pBody"><ul dir="ltr" lang="en"><li id="pt-login"><a href="https://wiki.nesdev.org/w/index.php?title=Special:UserLogin&amp;returnto=APU" title="You are encouraged to log in; however, it is not mandatory [Alt+Shift+o]" accesskey="o">Log in</a></li></ul></div></div><div class="portlet" id="p-logo" role="banner"><a href="https://wiki.nesdev.org/w/index.php?title=Nesdev_Wiki" class="mw-wiki-logo" title="Visit the main page"></a></div><div id="sidebar"><div role="navigation" class="portlet generated-sidebar" id="p-navigation" aria-labelledby="p-navigation-label"><h3 id="p-navigation-label" dir="ltr" lang="en">Navigation</h3><div class="pBody"><ul dir="ltr" lang="en"><li id="n-Nesdev-main-page"><a href="https://wiki.nesdev.org/w/index.php?title=Nesdev">Nesdev main page</a></li><li id="n-Wiki-main-page"><a href="https://wiki.nesdev.org/w/index.php?title=Nesdev_Wiki">Wiki main page</a></li><li id="n-NES-reference-guide"><a href="https://wiki.nesdev.org/w/index.php?title=NES_reference_guide">NES reference guide</a></li><li id="n-Programming-guide"><a href="https://wiki.nesdev.org/w/index.php?title=Programming_guide">Programming guide</a></li><li id="n-Projects"><a href="https://wiki.nesdev.org/w/index.php?title=Projects">Projects</a></li><li id="n-Offline-HTML-version"><a href="http://wiki.nesdev.org/w/nesdevwiki_2016-08-28.zip" rel="nofollow">Offline HTML version</a></li><li id="n-NESdev-BBS"><a href="http://forums.nesdev.org/" rel="nofollow">NESdev BBS</a></li><li id="n-.23NESdev"><a href="https://wiki.nesdev.org/w/index.php?title=NESdev_IRC_channel">#NESdev</a></li><li id="n-recentchanges"><a href="https://wiki.nesdev.org/w/index.php?title=Special:RecentChanges" title="A list of recent changes in the wiki [Alt+Shift+r]" accesskey="r">Recent changes</a></li></ul></div></div><div role="search" class="portlet" id="p-search"><h3 id="p-search-label" dir="ltr" lang="en"><label for="searchInput">Search</label></h3><div class="pBody" id="searchBody"><form action="/w/index.php" id="searchform"><input type="hidden" value="Special:Search" name="title"><input type="search" name="search" placeholder="Search Nesdev wiki" autocapitalize="sentences" title="Search Nesdev wiki [Alt+Shift+f]" accesskey="f" id="searchInput"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton">&nbsp; <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"></form></div></div><div role="navigation" class="portlet" id="p-tb" aria-labelledby="p-tb-label"><h3 id="p-tb-label" dir="ltr" lang="en">Tools</h3><div class="pBody"><ul dir="ltr" lang="en"><li id="t-whatlinkshere"><a href="https://wiki.nesdev.org/w/index.php?title=Special:WhatLinksHere/APU" title="A list of all wiki pages that link here [Alt+Shift+j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.nesdev.org/w/index.php?title=Special:RecentChangesLinked/APU" rel="nofollow" title="Recent changes in pages linked from this page [Alt+Shift+k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="https://wiki.nesdev.org/w/index.php?title=Special:SpecialPages" title="A list of all special pages [Alt+Shift+q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="javascript:print();" rel="alternate" title="Printable version of this page [Alt+Shift+p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.nesdev.org/w/index.php?title=APU&amp;oldid=344" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.nesdev.org/w/index.php?title=APU&amp;action=info" title="More information about this page">Page information</a></li></ul></div></div></div><a href="#sidebar" title="navigation" class="menu-toggle" id="sidebar-toggle"></a><a href="#p-personal" title="user tools" class="menu-toggle" id="p-personal-toggle"></a><a href="#globalWrapper" title="back to top" class="menu-toggle" id="globalWrapper-toggle"></a></div><!-- end of the left (by default at least) column --><div class="visualClear"></div><div id="footer" class="mw-footer" role="contentinfo" dir="ltr" lang="en"><div id="f-copyrightico" class="footer-icons"></div><div id="f-poweredbyico" class="footer-icons"><a href="https://www.mediawiki.org/"><img src="APU%20-%20Nesdev%20wiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="APU%20-%20Nesdev%20wiki_files/poweredby_mediawiki_132x47.png 1.5x, APU%20-%20Nesdev%20wiki_files/poweredby_mediawiki_176x62.png 2x" loading="lazy" width="88" height="31"></a></div><ul id="f-list"><li id="lastmod"> This page was last edited on 9 November 2020, at 15:46.</li><li id="privacy"><a href="https://wiki.nesdev.org/w/index.php?title=Nesdev_wiki:Privacy_policy" title="Nesdev wiki:Privacy policy">Privacy policy</a></li><li id="about"><a href="https://wiki.nesdev.org/w/index.php?title=Nesdev_wiki:About" title="Nesdev wiki:About">About Nesdev wiki</a></li><li id="disclaimer"><a href="https://wiki.nesdev.org/w/index.php?title=Nesdev_wiki:General_disclaimer" title="Nesdev wiki:General disclaimer">Disclaimers</a></li></ul></div></div>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.105","walltime":"0.112","ppvisitednodes":{"value":110,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20220104212704","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":435});});</script></body></html>